<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- Bootstrap Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <title>Visibility Insights | Report</title>
  <style>
    :root {
      --primary-color: #4166f5;
      --secondary-color: #1a202c;
      --success-color: #22c55e;
      --info-color: #3b82f6;
      --light-bg: #f8fafc;
      --border-color: #e5e7eb;
    }
    
    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
      background-color: white;
      color: #334155;
      line-height: 1.6;
      padding: 0;
      margin: 0;
    }
    
    .header {
      height: 64px;
      background-color: white;
      border-bottom: 1px solid var(--border-color);
      position: sticky;
      top: 0;
      z-index: 1000;
    }
    
    .header-content {
      display: flex;
      justify-content: space-between;
      align-items: center;
      height: 100%;
      padding: 0 24px;
      max-width: 1200px;
      margin: 0 auto;
    }
    
    .logo {
      display: flex;
      align-items: center;
      text-decoration: none;
      color: var(--secondary-color);
    }
    
    .logo-icon {
      color: var(--primary-color);
      font-size: 24px;
      margin-right: 8px;
    }
    
    .logo-text {
      font-weight: 600;
      font-size: 20px;
    }
    
    .export-btn {
      background-color: var(--primary-color);
      color: white;
      border: none;
      padding: 8px 16px;
      border-radius: 6px;
      font-weight: 500;
      display: flex;
      align-items: center;
      gap: 8px;
      transition: background-color 0.2s;
    }
    
    .export-btn:hover {
      background-color: #3451c6;
      color: white;
      text-decoration: none;
    }
    
    main {
      max-width: 1200px;
      margin: 0 auto;
      padding: 24px;
    }
    
    .page-title {
      font-size: 32px;
      font-weight: 700;
      color: var(--secondary-color);
      margin-bottom: 8px;
    }
    
    .page-description {
      color: #64748b;
      margin-bottom: 8px;
    }
    
    .site-url {
      margin-bottom: 16px;
    }
    
    .site-url a {
      color: var(--primary-color);
      text-decoration: none;
    }
    
    .site-url a:hover {
      text-decoration: underline;
    }
    
    .timestamp {
      display: flex;
      align-items: center;
      gap: 6px;
      color: #64748b;
      font-size: 14px;
      margin-bottom: 32px;
    }
    
    .metrics-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
      gap: 16px;
      margin-bottom: 32px;
    }
    
    .metric-card {
      background-color: #f8fafc;
      border-radius: 8px;
      padding: 20px;
      display: flex;
      flex-direction: column;
    }
    
    .metric-header {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 16px;
    }
    
    .metric-icon {
      width: 40px;
      height: 40px;
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 20px;
      background-color: rgba(65, 102, 245, 0.1);
      color: var(--primary-color);
    }
    
    .metric-title {
      font-size: 16px;
      font-weight: 600;
      color: var(--secondary-color);
    }
    
    .metric-value {
      font-size: 36px;
      font-weight: 700;
      color: var(--secondary-color);
      margin-bottom: 8px;
    }
    
    .metric-status {
      display: flex;
      align-items: center;
      gap: 6px;
      font-size: 14px;
    }
    
    .status-success {
      color: var(--success-color);
    }
    
    .status-warning {
      color: #f59e0b;
    }
    
    .status-info {
      color: var(--info-color);
    }
    
    .section-item {
      border: 1px solid var(--border-color);
      border-radius: 8px;
      margin-bottom: 16px;
      background: white;
      overflow: hidden;
    }
    
    .section-header {
      display: flex;
      align-items: center;
      padding: 16px;
      background-color: white;
      cursor: pointer;
      position: relative;
    }
    
    .section-icon {
      color: var(--primary-color);
      font-size: 18px;
      margin-right: 12px;
    }
    
    .section-title {
      font-weight: 600;
      font-size: 16px;
      color: var(--secondary-color);
      flex-grow: 1;
    }
    
    /* Properly handle chevron rotation */
    .chevron-icon {
      color: #94a3b8;
      transition: transform 0.3s ease;
      font-size: 14px;
      margin-left: 8px;
    }

    /* When not collapsed, rotate the chevron */
    .section-header:not(.collapsed) .chevron-icon {
      transform: rotate(90deg);
    }

    /* Hide border-bottom when collapsed */
    .section-header.collapsed {
      border-bottom: none;
    }

    /* Show border when expanded */
    .section-header:not(.collapsed) {
      border-bottom: 1px solid var(--border-color);
    }
    
    .section-body {
      padding: 0;
    }
    
    .allow-badge, .disallow-badge {
      padding: 4px 8px;
      border-radius: 4px;
      font-size: 12px;
      font-weight: 500;
    }
    
    .allow-badge {
      background-color: rgba(34, 197, 94, 0.1);
      color: #16a34a;
    }
    
    .disallow-badge {
      background-color: rgba(239, 68, 68, 0.1);
      color: #dc2626;
    }
    
    .badges-container {
      position: absolute;
      right: 40px;
      display: flex;
      gap: 8px;
    }
    
    .data-table {
      width: 100%;
      border-collapse: collapse;
    }
    
    .data-table th {
      background-color: #f8fafc;
      text-align: left;
      padding: 12px 16px;
      font-size: 14px;
      font-weight: 600;
      color: #475569;
      border-bottom: 1px solid #e2e8f0;
    }
    
    .data-table td {
      padding: 12px 16px;
      border-bottom: 1px solid #e2e8f0;
      font-size: 14px;
    }
    
    .data-table tr:last-child td {
      border-bottom: none;
    }
    
    .warn {
      background-color: rgba(251, 191, 36, 0.1);
    }
    
    .good {
      background-color: rgba(34, 197, 94, 0.1);
    }
    
    .empty-state {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 48px 0;
      text-align: center;
      color: #94a3b8;
    }
    
    .empty-icon {
      font-size: 32px;
      margin-bottom: 16px;
      color: #cbd5e1;
    }
    
    .domain-group {
      background-color: #f8fafc;
      font-weight: 600;
    }
    
    .domain-link {
      padding-left: 32px;
    }
    
    .footer {
      text-align: center;
      padding: 24px 0;
      color: #64748b;
      font-size: 14px;
      border-top: 1px solid var(--border-color);
      margin-top: 48px;
    }
    
    @media (max-width: 768px) {
      .metrics-grid {
        grid-template-columns: 1fr;
      }
      
      .badges-container {
        display: none;
      }
    }
  </style>
</head>
<body>
  <!-- Header -->
  <header class="header">
    <div class="header-content">
      <a href="#" class="logo">
        <i class="bi bi-bar-chart-fill logo-icon"></i>
        <span class="logo-text">Visibility Insights</span>
      </a>
      <a id="download-csv" class="export-btn" href="#">
        <i class="bi bi-download"></i> Export Report
      </a>
    </div>
  </header>

  <!-- Main Content -->
  <main>
    <!-- Page Title -->
    <h1 class="page-title">Site Analysis Report</h1>
    <p class="page-description">Comprehensive audit of SEO visibility and privacy elements</p>
    <p class="site-url" id="site-url"></p>
    <div class="timestamp">
      <i class="bi bi-clock"></i>
      <span>Generated on <span id="report-date">April 16, 2025</span></span>
    </div>

    <!-- Metrics Cards -->
    <div class="metrics-grid">
      <!-- Robots.txt Card -->
      <div class="metric-card">
        <div class="metric-header">
          <div class="metric-icon">
            <i class="bi bi-robot"></i>
          </div>
          <span class="metric-title">Robots.txt</span>
        </div>
        <div class="metric-value" id="robots-count">0</div>
        <div class="metric-status status-info" id="robots-status">
          <i class="bi bi-info-circle-fill"></i>
          <span>Checking...</span>
        </div>
      </div>

      <!-- Sitemap URLs Card -->
      <div class="metric-card">
        <div class="metric-header">
          <div class="metric-icon">
            <i class="bi bi-diagram-3"></i>
          </div>
          <span class="metric-title">Sitemap URLs</span>
        </div>
        <div class="metric-value" id="sitemap-count">0</div>
        <div class="metric-status status-info" id="sitemap-status">
          <i class="bi bi-info-circle-fill"></i>
          <span>Checking...</span>
        </div>
      </div>

      <!-- HTML Comments Card -->
      <div class="metric-card">
        <div class="metric-header">
          <div class="metric-icon">
            <i class="bi bi-code-slash"></i>
          </div>
          <span class="metric-title">HTML Comments</span>
        </div>
        <div class="metric-value" id="comments-count">0</div>
        <div class="metric-status status-info" id="comments-status">
          <i class="bi bi-info-circle-fill"></i>
          <span>Checking...</span>
        </div>
      </div>

      <!-- External Domains Card -->
      <div class="metric-card">
        <div class="metric-header">
          <div class="metric-icon">
            <i class="bi bi-box-arrow-up-right"></i>
          </div>
          <span class="metric-title">External Domains</span>
        </div>
        <div class="metric-value" id="domains-count">0</div>
        <div class="metric-status status-info" id="domains-status">
          <i class="bi bi-info-circle-fill"></i>
          <span>Checking...</span>
        </div>
      </div>
    </div>

    <!-- Collapsible Sections -->
    <!-- Robots.txt Section -->
    <div class="section-item">
      <div class="section-header collapsed" data-bs-toggle="collapse" data-bs-target="#robots-content" aria-expanded="false">
        <i class="bi bi-robot section-icon"></i>
        <span class="section-title">Robots.txt Analysis</span>
        <div class="badges-container">
          <span class="allow-badge">Allow</span>
          <span class="disallow-badge">Disallow</span>
        </div>
        <i class="bi bi-chevron-right chevron-icon"></i>
      </div>
      <div class="collapse" id="robots-content">
        <div class="table-responsive">
          <table id="robots-table" class="data-table">
            <thead>
              <tr>
                <th>Rule</th>
                <th width="100">Type</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
      </div>
    </div>

    <!-- Sitemap.xml Section -->
    <div class="section-item">
      <div class="section-header collapsed" data-bs-toggle="collapse" data-bs-target="#sitemap-content" aria-expanded="false">
        <i class="bi bi-diagram-3 section-icon"></i>
        <span class="section-title">Sitemap.xml Entries</span>
        <i class="bi bi-chevron-right chevron-icon"></i>
      </div>
      <div class="collapse" id="sitemap-content">
        <div class="table-responsive">
          <table id="sitemap-table" class="data-table">
            <thead>
              <tr>
                <th>URL</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
      </div>
    </div>

    <!-- HTML Comments Section -->
    <div class="section-item">
      <div class="section-header collapsed" data-bs-toggle="collapse" data-bs-target="#comments-content" aria-expanded="false">
        <i class="bi bi-code-slash section-icon"></i>
        <span class="section-title">HTML Comments</span>
        <i class="bi bi-chevron-right chevron-icon"></i>
      </div>
      <div class="collapse" id="comments-content">
        <div class="table-responsive">
          <table id="comments-table" class="data-table">
            <thead>
              <tr>
                <th>Comment</th>
                <th width="100">Status</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
      </div>
    </div>

    <!-- Cookies Section -->
    <div class="section-item">
  <div class="section-header collapsed" data-bs-toggle="collapse" data-bs-target="#cookies-content" aria-expanded="false">
    <i class="bi bi-card-list section-icon"></i>
    <span class="section-title">Cookies</span>
    <i class="bi bi-chevron-right chevron-icon"></i>
  </div>
  <div class="collapse" id="cookies-content">
        <div class="table-responsive">
          <table id="cookies-table" class="data-table">
            <thead>
              <tr>
                <th>Name</th>
                <th>Value</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
      </div>
    </div>

    <!-- External Domains Section -->
    <div class="section-item">
      <div class="section-header collapsed" data-bs-toggle="collapse" data-bs-target="#domains-content" aria-expanded="false">
        <i class="bi bi-box-arrow-up-right section-icon"></i>
        <span class="section-title">External Domains</span>
        <i class="bi bi-chevron-right chevron-icon"></i>
      </div>
      <div class="collapse" id="domains-content">
        <div class="table-responsive">
          <table id="domains-table" class="data-table">
            <thead>
              <tr>
                <th>Domain</th>
                <th>Links</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
      </div>
    </div>
  </main>

  <!-- Footer -->
  <footer class="footer">
    <div>Visibility Insights Â© 2025 | Enterprise Audit Tool</div>
  </footer>

  <!-- Bootstrap Bundle with Popper -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  
  <!-- Custom JavaScript -->
  <script>
    // Set current date
    document.getElementById('report-date').textContent = new Date().toLocaleDateString('en-US', { 
      year: 'numeric', 
      month: 'long', 
      day: 'numeric'
    });
    
    // Enable Bootstrap collapse functionality for all section headers
    document.addEventListener('DOMContentLoaded', function() {
      // Make sure Bootstrap JS is working
      if (typeof bootstrap === 'undefined') {
        console.warn('Bootstrap JavaScript is not loaded. Dropdowns may not work properly.');
        
        // Fallback click handler for section headers
        document.querySelectorAll('.section-header').forEach(header => {
          header.addEventListener('click', function() {
            const targetId = this.getAttribute('data-bs-target');
            if (!targetId) return;
            
            const targetElement = document.querySelector(targetId);
            if (!targetElement) return;
            
            // Toggle show class
            targetElement.classList.toggle('show');
            
            // Update header state
            if (targetElement.classList.contains('show')) {
              this.classList.remove('collapsed');
              this.setAttribute('aria-expanded', 'true');
            } else {
              this.classList.add('collapsed');
              this.setAttribute('aria-expanded', 'false');
            }
          });
        });
      } else {
        // If Bootstrap is loaded, ensure proper class toggling
        const bsCollapse = document.querySelectorAll('.collapse');
        bsCollapse.forEach(collapseEl => {
          collapseEl.addEventListener('show.bs.collapse', function () {
            const header = document.querySelector(`[data-bs-target="#${this.id}"]`);
            if (header) {
              header.classList.remove('collapsed');
              header.setAttribute('aria-expanded', 'true');
            }
          });
          
          collapseEl.addEventListener('hide.bs.collapse', function () {
            const header = document.querySelector(`[data-bs-target="#${this.id}"]`);
            if (header) {
              header.classList.add('collapsed');
              header.setAttribute('aria-expanded', 'false');
            }
          });
        });
      }
    });
  </script>
  
  <!-- Load the data -->
  <script src="results.js"></script>
</body>
</html>